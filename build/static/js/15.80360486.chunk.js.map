{"version":3,"sources":["api/index.js","services/main/PlannerService.js","views/app-views/main/planner/PlannerStyle.js","views/app-views/main/planner/Furniture.js","views/app-views/main/planner/AddedFurniture.js","views/app-views/main/planner/Planner.js"],"names":["api","axios","create","baseURL","interceptors","response","use","data","PlannerService","save","body","a","post","res","console","log","message","error","content","duration","PlannerStyle","styled","div","Furniture","name","index","moveItem","className","id","nanoid","src","alt","onMouseDown","e","AddedFurniture","dataItem","style","position","zIndex","width","height","left","top","furnitureName","Planner","useState","fieldItems","setFieldItems","movingItem","itemFromField","onMouseMove","pageX","offsetWidth","pageY","offsetHeight","newFieldItems","slice","target","parentElement","cloneNode","filter","item","document","createElement","field","getElementById","append","addEventListener","ondragstart","onmouseup","fieldCoords","getBoundingClientRect","itemCoords","relativeLeft","relativeTop","removeEventListener","right","bottom","remove","push","furnitureList","map","planfurniture","type","onClick","length","then","success","danger","DeleteOutlined","fontSize","plannerData"],"mappings":"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","file":"static/js/15.80360486.chunk.js","sourcesContent":["import axios from 'axios';\n\nexport const api = axios.create({\n  baseURL: 'https://jsonplaceholder.typicode.com/',\n});\n\napi.interceptors.response.use(\n  (response) => {\n    return response.data;\n  },\n);","import { message } from 'antd';\nimport { api } from '../../api';\n\nconst PlannerService = {}\n\nPlannerService.save = async (body) => {\n  try {\n    const res = await api.post('users', body);\n    return res;\n  } catch (err) {\n    console.log(err);\n    message.error({ content: err.message, duration: 2 });\n  }\n};\n\nexport default PlannerService;","import styled from 'styled-components';\n\nexport const PlannerStyle = styled.div`\n  display: flex;\n  justify-content: space-between;\n\n.controller {\n  width: 45%;\n}\n\n.controller__furnitureList-furniture {\n  text-align: center; \n  border: 2px solid black; \n  margin-right: 4px;\n  img {\n    width: 80px;\n    height: 80px;\n  }\n}\n\n.controller__furnitureList {\n  display: flex;\n  flex-wrap: nowrap;\n  margin-right: 10px;\n  width: 90%;\n  height : 150px;\n  overflow-y: auto;\n}\n\n.controller__buttonDiv {\n  display: flex;\n  margin-top: 150px;\n  width: 90%;\n  justify-content: space-between;\n}\n\n.fieldDiv {\n  width: 60%;\n  height : 550px;\n  border-radius: 30px;\n  border: 2px solid black;\n  background-color: black;\n}\n\n.fieldDiv__topLine {\n  display: flex;\n  justify-content: space-between;\n  width: 90%;\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 10px;\n  h1 {\n    position: relative;\n    top: 20px;\n    font-size: 16px;\n    color: white;\n  }\n}\n\n.fieldDiv__field {\n  width: 90%;\n  height : 80%;\n  position: relative;\n  border: 2px solid black;\n  background-color: white;\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 10px;\n}\n`;","import React from 'react';\nimport { nanoid } from 'nanoid/non-secure';\n\nconst Furniture = (name, index, moveItem) => {\n  return (\n    <div className=\"controller__furnitureList-furniture\" key={name+index}>\n      <img id={nanoid()} name={name} src={`/img/furniture/${name}.jpg`}  alt=\"furniture\" onMouseDown={(e) => moveItem(e)} />\n      <span>{name}</span>\n    </div>\t\n  );\n};\n\nexport default Furniture;","import React from 'react';\n\nconst AddedFurniture = (dataItem, index, moveItem) => {\n  return (\n    <img \n      id={dataItem.id} \n      name={dataItem.name} \n      src={`/img/furniture/${dataItem.name}.jpg`}  \n      alt=\"furniture\" \n      onMouseDown={(e) => moveItem(e)}\n      style={{\n        position: 'absolute',\n        zIndex: '1000',\n        width: '80px',\n        height: '80px',\n        left: `${dataItem.left}%`,\n        top: `${dataItem.top}%`,\n      }}\n      key={index+dataItem.id} \n    />\n  )\n}\n\nexport default AddedFurniture;","import React, { useState } from 'react';\nimport { Button, message } from 'antd';\nimport PlannerService from 'services/main/PlannerService';\nimport { DeleteOutlined } from '@ant-design/icons';\nimport plannerData from 'assets/data/planner.data.json';\nimport { PlannerStyle } from './PlannerStyle';\nimport Furniture from './Furniture';\nimport { nanoid } from 'nanoid/non-secure';\nimport AddedFurniture from './AddedFurniture';\n\nconst furnitureName = [\n\t'Armchair',\n\t'Armchair with stand',\n\t'Big table',\n\t'Cupboard',\n\t'Dinner table',\n\t'Mini sofa',\n\t'Office chair',\n\t'Office table',\n\t'Oval dining table',\n\t'Sofa',\n\t'Wooden chair'\n];\n\nconst Planner = () => {\n\tconst [fieldItems, setFieldItems] = useState([]);\n\n\tconst moveItem = (e) => {\n\t\tconst onMouseMove = (e) => {\n\t\t\tmovingItem.style.left = e.pageX - movingItem.offsetWidth / 2 + 'px';\n\t\t\tmovingItem.style.top = e.pageY - movingItem.offsetHeight / 2 + 'px';\n\t\t};\n\n\t\tlet movingItem;\n\t\tlet newFieldItems = fieldItems.slice(0);\n\t\tlet itemFromField;\n\n\t\tif (e.target.parentElement.id === 'field') {\n\t\t\tmovingItem = e.target.cloneNode(true);\n\t\t\tnewFieldItems = fieldItems.filter((item) => item.id !== e.target.id);\n\t\t\titemFromField = e.target.id;\n\t\t\tsetFieldItems(newFieldItems)\n\t\t} else {\n\t\t\tmovingItem = document.createElement('img');\n\t\t\tmovingItem.style.position = 'absolute';\n\t\t\tmovingItem.style.zIndex = 1000;\n\t\t\tmovingItem.style.width = '80px';\n\t\t\tmovingItem.style.height = '80px';\n\t\t\tmovingItem.id = nanoid();\n\t\t\tmovingItem.name = e.target.name;\n\t\t\tmovingItem.src = `/img/furniture/${e.target.name}.jpg`;\n\t\t}\n\n\t\tconst field = document.getElementById('field');\n\t\tdocument.body.append(movingItem);\n\t\tdocument.addEventListener('mousemove', onMouseMove);\n\t\tmovingItem.style.left = e.pageX - movingItem.offsetWidth / 2 + 'px';\n    movingItem.style.top = e.pageY - movingItem.offsetHeight / 2 + 'px';\n\t\tmovingItem.ondragstart = () => {\n\t\t\treturn false;\n\t\t};\n\t\tmovingItem.onmouseup = () => {\n\t\t\tconst fieldCoords = field.getBoundingClientRect();\n\t\t\tconst itemCoords = movingItem.getBoundingClientRect();\n\t\t\tconst relativeLeft = ( (itemCoords.left - fieldCoords.left) / field.offsetWidth ) * 100;\n\t\t\tconst relativeTop = ( (itemCoords.top - fieldCoords.top) / field.offsetHeight ) * 100;\n\n\t\t\tdocument.removeEventListener('mousemove', onMouseMove);;\n\n\t\t\tif (itemCoords.left < fieldCoords.left || itemCoords.right > fieldCoords.right) {\n\t\t\t\tmovingItem.remove();\n\t\t\t\tsetFieldItems(newFieldItems);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (itemCoords.bottom > fieldCoords.bottom || itemCoords.top < fieldCoords.top) {\n\t\t\t\tmovingItem.remove();\n\t\t\t\tsetFieldItems(newFieldItems);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tif (itemFromField) {\n\t\t\t\tnewFieldItems = fieldItems.filter((item) => item.id !== itemFromField);\n\t\t\t}\n\t\t\tnewFieldItems.push(\n\t\t\t\t{\n\t\t\t\t\tid: movingItem.id,\n\t\t\t\t\tname: movingItem.name,\n\t\t\t\t\tleft: relativeLeft,\n\t\t\t\t\ttop: relativeTop\n\t\t\t\t}\n\t\t\t);\n\t\t\tmovingItem.remove();\n\t\t\tsetFieldItems(newFieldItems);\n\t\t};\n\t};\n\n\tconst savePlan = () => {\n\t\tif (fieldItems.length === 0) {\n\t\t\tmessage.error({ content: `First you need to create a plan.`, duration: 2 });\n\t\t\treturn;\n\t\t}\n\t\tPlannerService.save({fieldItems}).then((res) => {\n\t\t\tif (!res) {\n\t\t\t\tmessage.error({ content: `Plan didn't save!`, duration: 2 });\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tmessage.success({ content: `Plan was saved!`, duration: 2 });\n\t\t});\n\t};\n\n\tconst deletePlan = () => {\n\t\tsetFieldItems([]);\n\t};\n\n\tconst uploadPlan = () => {\n\t\tsetFieldItems(plannerData)\n\t};\n\n\tconst furnitureList = furnitureName.map((name, index) => {\n\t\treturn Furniture(name, index, moveItem);\n\t});\n\n\tconst planfurniture = fieldItems.map((item, index) => {\n\t\treturn AddedFurniture(item, index, moveItem)\n\t});\n\n\treturn (\n\t\t<PlannerStyle>\n\t\t\t<div className=\"controller\">\n\t\t\t\t<div className=\"controller__furnitureList\" >\n\t\t\t\t\t{furnitureList}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"controller__buttonDiv\" >\n\t\t\t\t\t<Button type=\"primary\" onClick={() => savePlan()}>Save plan</Button>\n\t\t\t\t\t<Button type=\"primary\" danger onClick={() => deletePlan()}>Delete plan</Button>\n\t\t\t\t\t<DeleteOutlined style={{fontSize: '45px'}}></DeleteOutlined>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"fieldDiv\" >\n\t\t\t\t<div className=\"fieldDiv__topLine\">\n\t\t\t\t\t<h1>Room layout</h1>\n\t\t\t\t\t<Button type=\"primary\"  onClick={() => uploadPlan()}>Upload plan</Button>\n\t\t\t\t</div>\n\t\t\t\t<div id=\"field\" className=\"fieldDiv__field\" >\n\t\t\t\t\t{fieldItems.length === 0 ? <></> : planfurniture}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</PlannerStyle>\n\t);\n};\n\nexport default Planner;"],"sourceRoot":""}