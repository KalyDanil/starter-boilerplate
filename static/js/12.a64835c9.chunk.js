(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[12],{459:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var s=n(455),a=n.n(s).a.create({baseURL:"https://jsonplaceholder.typicode.com/"});a.interceptors.response.use((function(e){return e.data}))},467:function(e,t,n){"use strict";var s=n(24),a=n.n(s),c=n(91),r=n(264),i=n(459),l={};l.getList=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.get("users");case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),r.b.error({content:e.t0.message,duration:2});case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),l.deleteOne=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.delete("users/".concat(t));case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),r.b.error({content:e.t0.message,duration:2});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),l.getOne=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.get("users/".concat(t));case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),r.b.error({content:e.t0.message,duration:2});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),l.editProfile=function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.put("users/".concat(t),n);case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0),r.b.error({content:e.t0.message,duration:2});case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}(),t.a=l},468:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var s=n(163),a=function(e){return{type:s.b,payload:e}},c=function(e){return{type:s.a,payload:e}}},513:function(e,t,n){"use strict";n.r(t),n.d(t,"ClientsList",(function(){return T}));var s=n(2),a=n(81),c=n(82),r=n(103),i=n(100),l=n(0),o=n(38),u=n(264),d=n(188),j=n(105),b=n(528),p=n(526),m=n(232),x=n(470),h=n(430),f=n(511),v=n(462),O=n(438),C=n(532),g=n(445),N=n(443),k=n(533),w=n(534),y=n(447),L=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.visible,a=e.close;return Object(s.jsxs)(h.a,{width:300,placement:"right",onClose:a,closable:!1,visible:n,children:[Object(s.jsxs)("div",{className:"text-center mt-3",children:[Object(s.jsx)(f.a,{size:80,src:"/img/avatars/defaultAvatar.jpg"}),Object(s.jsx)("h3",{className:"mt-2 mb-0",children:null===t||void 0===t?void 0:t.name}),Object(s.jsx)("span",{className:"text-muted",children:null===t||void 0===t?void 0:t.username})]}),Object(s.jsx)(v.a,{dashed:!0}),Object(s.jsxs)("div",{className:"",children:[Object(s.jsx)("h6",{className:"text-muted text-uppercase mb-3",children:"Account details"}),Object(s.jsxs)("p",{children:[Object(s.jsx)(O.a,{}),Object(s.jsxs)("span",{className:"ml-3 text-dark",children:["id: ",null===t||void 0===t?void 0:t.id]})]}),Object(s.jsxs)("p",{children:[Object(s.jsx)(C.a,{}),Object(s.jsxs)("span",{className:"ml-3 text-dark",children:["Company: ",null===t||void 0===t?void 0:t.company.name]})]})]}),Object(s.jsxs)("div",{className:"mt-5",children:[Object(s.jsx)("h6",{className:"text-muted text-uppercase mb-3",children:"CONTACT"}),Object(s.jsxs)("p",{children:[Object(s.jsx)(g.a,{}),Object(s.jsxs)("span",{className:"ml-3 text-dark",children:[" ",null===t||void 0===t?void 0:t.phone," "]})]}),Object(s.jsxs)("p",{children:[Object(s.jsx)(N.a,{}),Object(s.jsxs)("span",{className:"ml-3 text-dark",children:[" ",null===t||void 0===t?void 0:t.email," "]})]}),Object(s.jsxs)("p",{children:[Object(s.jsx)(k.a,{}),Object(s.jsxs)("span",{className:"ml-3 text-dark",children:[" City ",null===t||void 0===t?void 0:t.address.city," "]})]}),Object(s.jsxs)("p",{children:[Object(s.jsx)(k.a,{}),Object(s.jsxs)("span",{className:"ml-3 text-dark",children:[" Street ",null===t||void 0===t?void 0:t.address.street," "]})]}),Object(s.jsxs)("p",{children:[Object(s.jsx)(k.a,{}),Object(s.jsxs)("span",{className:"ml-3 text-dark",children:[" ",null===t||void 0===t?void 0:t.address.suite," "]})]}),Object(s.jsxs)("p",{children:[Object(s.jsx)(w.a,{}),Object(s.jsxs)("span",{className:"ml-3 text-dark",children:[" Zip-code: ",null===t||void 0===t?void 0:t.address.zipcode," "]})]})]}),Object(s.jsxs)("div",{className:"mt-5",children:[Object(s.jsx)("h6",{className:"text-muted text-uppercase mb-3",children:"Web"}),Object(s.jsxs)("p",{children:[Object(s.jsx)(y.a,{}),Object(s.jsx)("a",{href:"/#",className:"ml-3 text-dark",children:null===t||void 0===t?void 0:t.website})]})]})]})}}]),n}(l.Component),P=n(17),z=function(e){return Object(s.jsx)(f.a,Object(P.a)(Object(P.a)({},e),{},{className:"ant-avatar-".concat(e.type),onClick:function(){return e.onClick()},children:e.text}))},A=function(e){var t=e.name,n=e.suffix,a=e.subTitle,c=e.type,r=e.src,i=e.icon,l=e.size,o=e.shape,u=e.gap,d=e.text,j=e.onNameClick,b=j;return Object(s.jsxs)("div",{className:"avatar-status d-flex align-items-center",children:[z({icon:i,src:r,type:c,size:l,shape:o,gap:u,text:d,onClick:b}),Object(s.jsxs)("div",{className:"ml-2",children:[Object(s.jsxs)("div",{children:[j?Object(s.jsx)("div",{onClick:function(){return j()},className:"avatar-status-name clickable",children:t}):Object(s.jsx)("div",{className:"avatar-status-name",children:t}),Object(s.jsx)("span",{children:n})]}),Object(s.jsx)("div",{className:"text-muted avatar-status-subtitle",children:a})]})]})},I=n(98),S=n(467),V=n(468),T=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var s=arguments.length,c=new Array(s),r=0;r<s;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={clientProfileVisible:!1,selectedClient:null},e.deleteClient=function(t,n){S.a.deleteOne(t).then((function(s){if(s){var a=e.props.clientsList.filter((function(e){return e.id!==t}));e.props.getClientsList(a),u.b.success({content:"Deleted user ".concat(n),duration:2})}else u.b.error({content:"User ".concat(n," has not been deleted"),duration:2})}))},e.showClientProfile=function(t){e.setState({clientProfileVisible:!0,selectedClient:t})},e.closeClientProfile=function(){e.setState({clientProfileVisible:!1,selectedClient:null})},e.toEditingClientProfile=function(e){window.location.href="/app/main/clients/edit-profile:".concat(e)},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;S.a.getList().then((function(t){e.props.getClientsList(t)}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.clientProfileVisible,a=t.selectedClient,c=[{title:"Client",dataIndex:"name",render:function(t,n){return Object(s.jsx)("div",{className:"d-flex",children:Object(s.jsx)(A,{src:"/img/avatars/defaultAvatar.jpg",name:n.name,subTitle:n.email,onNameClick:function(){return e.toEditingClientProfile(n.id)}})})},sorter:{compare:function(e,t){return(e=e.name.toLowerCase())>(t=t.name.toLowerCase())?-1:t>e?1:0}}},{title:"Username",dataIndex:"username",sorter:{compare:function(e,t){return(e=e.username.toLowerCase())>(t=t.username.toLowerCase())?-1:t>e?1:0}}},{title:"Web site",dataIndex:"website",sorter:{compare:function(e,t){return(e=e.website.toLowerCase())>(t=t.website.toLowerCase())?-1:t>e?1:0}}},{title:"Phone",dataIndex:"phone",sorter:{compare:function(e,t){return(e=e.phone)>(t=t.phone)?-1:t>e?1:0}}},{title:"",dataIndex:"actions",render:function(t,n){return Object(s.jsxs)("div",{className:"text-right",children:[Object(s.jsx)(d.a,{title:"View",children:Object(s.jsx)(j.a,{type:"primary",className:"mr-2",icon:Object(s.jsx)(m.a,{}),onClick:function(){e.showClientProfile(n)},size:"small"})}),Object(s.jsx)(d.a,{title:"Delete",children:Object(s.jsx)(j.a,{danger:!0,icon:Object(s.jsx)(x.a,{}),onClick:function(){e.deleteClient(n.id,n.username)},size:"small"})})]})}}];return this.props.loading?Object(s.jsx)(I.a,{}):Object(s.jsxs)(b.a,{bodyStyle:{padding:"0px"},children:[Object(s.jsx)(p.a,{columns:c,dataSource:this.props.clientsList,rowKey:"id"}),Object(s.jsx)(L,{data:a,visible:n,close:function(){e.closeClientProfile()}})]})}}]),n}(l.Component);t.default=Object(o.b)((function(e){var t=e.clients;return{clientsList:t.clientsList,loading:t.loading}}),(function(e){return{getClientsList:function(t){return e(Object(V.b)(t))}}}))(T)}}]);
//# sourceMappingURL=12.a64835c9.chunk.js.map