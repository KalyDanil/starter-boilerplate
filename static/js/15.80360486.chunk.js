(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[15],{459:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(455),r=n.n(i).a.create({baseURL:"https://jsonplaceholder.typicode.com/"});r.interceptors.response.use((function(e){return e.data}))},500:function(e){e.exports=JSON.parse('[{"id":"zasqwefqw","name":"Armchair","left":30,"top":30},{"id":"acwdsadqs","name":"Dinner table","left":15,"top":30},{"id":"verfwwdcwf","name":"Wooden chair","left":60,"top":70},{"id":"rerthrngtntgt","name":"Big table","left":50,"top":15},{"id":"uiujmng","name":"Cupboard","left":40,"top":55},{"id":"xzvbtiyukyh","name":"Sofa","left":10,"top":15}]')},512:function(e,t,n){"use strict";n.r(t);var i=n(2),r=n(73),o=n(0),a=n(264),c=n(105),s=n(24),l=n.n(s),u=n(91),d=n(459),p={};p.save=function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post("users",t);case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),a.b.error({content:e.t0.message,duration:2});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();var f=p,m=n(470),h=n(500),g=n(501);function b(){var e=Object(g.a)(["\n  display: flex;\n  justify-content: space-between;\n\n.controller {\n  width: 45%;\n}\n\n.controller__furnitureList-furniture {\n  text-align: center; \n  border: 2px solid black; \n  margin-right: 4px;\n  img {\n    width: 80px;\n    height: 80px;\n  }\n}\n\n.controller__furnitureList {\n  display: flex;\n  flex-wrap: nowrap;\n  margin-right: 10px;\n  width: 90%;\n  height : 150px;\n  overflow-y: auto;\n}\n\n.controller__buttonDiv {\n  display: flex;\n  margin-top: 150px;\n  width: 90%;\n  justify-content: space-between;\n}\n\n.fieldDiv {\n  width: 60%;\n  height : 550px;\n  border-radius: 30px;\n  border: 2px solid black;\n  background-color: black;\n}\n\n.fieldDiv__topLine {\n  display: flex;\n  justify-content: space-between;\n  width: 90%;\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 10px;\n  h1 {\n    position: relative;\n    top: 20px;\n    font-size: 16px;\n    color: white;\n  }\n}\n\n.fieldDiv__field {\n  width: 90%;\n  height : 80%;\n  position: relative;\n  border: 2px solid black;\n  background-color: white;\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 10px;\n}\n"]);return b=function(){return e},e}var x=n(502).a.div(b()),v=n(480),j=function(e,t,n){return Object(i.jsxs)("div",{className:"controller__furnitureList-furniture",children:[Object(i.jsx)("img",{id:Object(v.a)(),name:e,src:"/img/furniture/".concat(e,".jpg"),alt:"furniture",onMouseDown:function(e){return n(e)}}),Object(i.jsx)("span",{children:e})]},e+t)},y=function(e,t,n){return Object(i.jsx)("img",{id:e.id,name:e.name,src:"/img/furniture/".concat(e.name,".jpg"),alt:"furniture",onMouseDown:function(e){return n(e)},style:{position:"absolute",zIndex:"1000",width:"80px",height:"80px",left:"".concat(e.left,"%"),top:"".concat(e.top,"%")}},t+e.id)},w=["Armchair","Armchair with stand","Big table","Cupboard","Dinner table","Mini sofa","Office chair","Office table","Oval dining table","Sofa","Wooden chair"];t.default=function(){var e=Object(o.useState)([]),t=Object(r.a)(e,2),n=t[0],s=t[1],l=function(e){var t,i,r=function(e){t.style.left=e.pageX-t.offsetWidth/2+"px",t.style.top=e.pageY-t.offsetHeight/2+"px"},o=n.slice(0);"field"===e.target.parentElement.id?(t=e.target.cloneNode(!0),o=n.filter((function(t){return t.id!==e.target.id})),i=e.target.id,s(o)):((t=document.createElement("img")).style.position="absolute",t.style.zIndex=1e3,t.style.width="80px",t.style.height="80px",t.id=Object(v.a)(),t.name=e.target.name,t.src="/img/furniture/".concat(e.target.name,".jpg"));var a=document.getElementById("field");document.body.append(t),document.addEventListener("mousemove",r),t.style.left=e.pageX-t.offsetWidth/2+"px",t.style.top=e.pageY-t.offsetHeight/2+"px",t.ondragstart=function(){return!1},t.onmouseup=function(){var e=a.getBoundingClientRect(),c=t.getBoundingClientRect(),l=(c.left-e.left)/a.offsetWidth*100,u=(c.top-e.top)/a.offsetHeight*100;return document.removeEventListener("mousemove",r),c.left<e.left||c.right>e.right||c.bottom>e.bottom||c.top<e.top?(t.remove(),void s(o)):(i&&(o=n.filter((function(e){return e.id!==i}))),o.push({id:t.id,name:t.name,left:l,top:u}),t.remove(),void s(o))}},u=w.map((function(e,t){return j(e,t,l)})),d=n.map((function(e,t){return y(e,t,l)}));return Object(i.jsxs)(x,{children:[Object(i.jsxs)("div",{className:"controller",children:[Object(i.jsx)("div",{className:"controller__furnitureList",children:u}),Object(i.jsxs)("div",{className:"controller__buttonDiv",children:[Object(i.jsx)(c.a,{type:"primary",onClick:function(){0!==n.length?f.save({fieldItems:n}).then((function(e){e?a.b.success({content:"Plan was saved!",duration:2}):a.b.error({content:"Plan didn't save!",duration:2})})):a.b.error({content:"First you need to create a plan.",duration:2})},children:"Save plan"}),Object(i.jsx)(c.a,{type:"primary",danger:!0,onClick:function(){s([])},children:"Delete plan"}),Object(i.jsx)(m.a,{style:{fontSize:"45px"}})]})]}),Object(i.jsxs)("div",{className:"fieldDiv",children:[Object(i.jsxs)("div",{className:"fieldDiv__topLine",children:[Object(i.jsx)("h1",{children:"Room layout"}),Object(i.jsx)(c.a,{type:"primary",onClick:function(){s(h)},children:"Upload plan"})]}),Object(i.jsx)("div",{id:"field",className:"fieldDiv__field",children:0===n.length?Object(i.jsx)(i.Fragment,{}):d})]})]})}}}]);
//# sourceMappingURL=15.80360486.chunk.js.map